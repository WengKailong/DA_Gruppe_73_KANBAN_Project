<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: board.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: board.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let dropId;
/**
 * Tasks for Testing
 */
allTasks = [
    {
        id: 0,
        title: "test",
        category: "Management",
        description: `lorem Ipsum dolor sit amet, consectetur`,
        status: "todo",
        creator: "Timm Eichholz",
        avatar: "./img/profile.png",
        creationdate: ""
    },
    {
        id: 1,
        title: "test2",
        category: "Management",
        description: "lorem Ipsum dolor sit amet, consectetur",
        status: "done",
        creator: "Timm Eichholz",
        avatar: "./img/profile.png",
        creationdate: ""
    }
];
/**
 * loads the tasks into the different columns
 * @param {allTasks object} id 
 */
function writeTasks(id) {
    document.getElementById(allTasks[id]['status']).innerHTML += `&lt;div id="id${allTasks[id]['id']}" class="board-entry" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="fillModal(${id}) " draggable="true" ondragstart="drag(event, ${id} )">
    &lt;div class="${allTasks[id]['category']}">
        &lt;span class="board-date">${allTasks[id]['creationdata']}&lt;/span>
        &lt;h3>${allTasks[id]['title']}&lt;/h3>
        &lt;p class="board-text-short">${allTasks[id]['description']}&lt;/p>
        &lt;div class="d-flex justify-content-around">
            &lt;div class="category">Management&lt;/div>&lt;img class="avatar" src=${allTasks[id]['avatar']}
                alt=${allTasks[id]['creator']}>
        &lt;/div>
    &lt;/div>
&lt;/div>`

}

/**
 * 
 */
function boardInit() {

    for (let i = 0; i &lt; allTasks.length; i++) {

        writeTasks(i);
    }
}


/**
 * fills the Modal after it is opened
 * @param {allTasks object} id 
 */
function fillModal(id) {
    document.getElementById('modal-title').innerHTML = allTasks[id]['title'];
    document.getElementById('modal-description').innerHTML = allTasks[id]['description'];
    let modalAvatar = document.getElementById('modal-avatar');
    modalAvatar.src = allTasks[id]['avatar'];
    document.getElementById('modal-creator').innerHTML = allTasks[id]['creator'];
    document.getElementById('modal-category').innerHTML = allTasks[id]['category'];
    document.getElementById('modal-category').classList.add(allTasks[id]['category'])
}

/**
 * Drag and Drop
 */
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev, idNr) {
    ev.dataTransfer.setData("text", ev.target.id);
    dropId = idNr;
}

/**
 * 
 * @param {dragged object} ev 
 * @param {} dropCategory 
 * changes allTasks[].status into new category
 */
function drop(ev, dropCategory) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
    console.log('dropid: ', dropId);
    console.log('dropStatus: ', dropCategory);
    console.log(allTasks[dropId]['status']);
    allTasks[dropId]['status'] = dropCategory;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#allowDrop">allowDrop</a></li><li><a href="global.html#allTasks">allTasks</a></li><li><a href="global.html#boardInit">boardInit</a></li><li><a href="global.html#drop">drop</a></li><li><a href="global.html#fillModal">fillModal</a></li><li><a href="global.html#writeTasks">writeTasks</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Apr 27 2021 16:36:54 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
